(function () {function V(a){return a&&a.__esModule?{d:a.default}:{d:a}}var Q=this;var R=la;var K=ya;for(var g=[],d=[],Ea="undefined"!=typeof Uint8Array?Uint8Array:Array,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,ia=t.length;e<ia;++e)g[e]=t[e],d[t.charCodeAt(e)]=e;function ja($){var r=$.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var U=$.indexOf("=");return-1===U&&(U=r),[U,U===r?0:4-U%4]}function ka($,r,U){return 3*(r+U)/4-U}function la($){for(var r,U=ja($),o=U[0],e=U[1],a=new Ea(ka($,o,e)),t=0,v=e>0?o-4:o,q=0;q<v;q+=4)r=d[$.charCodeAt(q)]<<18|d[$.charCodeAt(q+1)]<<12|d[$.charCodeAt(q+2)]<<6|d[$.charCodeAt(q+3)],a[t++]=r>>16&255,a[t++]=r>>8&255,a[t++]=255&r;return 2===e&&(r=d[$.charCodeAt(q)]<<2|d[$.charCodeAt(q+1)]>>4,a[t++]=255&r),1===e&&(r=d[$.charCodeAt(q)]<<10|d[$.charCodeAt(q+1)]<<4|d[$.charCodeAt(q+2)]>>2,a[t++]=r>>8&255,a[t++]=255&r),a}function qa($){return g[$>>18&63]+g[$>>12&63]+g[$>>6&63]+g[63&$]}function ua($,r,U){for(var o,e=[],a=r;a<U;a+=3)o=($[a]<<16&16711680)+($[a+1]<<8&65280)+(255&$[a+2]),e.push(qa(o));return e.join("")}function ya($){for(var r,U=$.length,o=U%3,e=[],a=0,t=U-o;a<t;a+=16383)e.push(ua($,a,a+16383>t?t:a+16383));return 1===o?(r=$[U-1],e.push(g[r>>2]+g[r<<4&63]+"==")):2===o&&(r=($[U-2]<<8)+$[U-1],e.push(g[r>>10]+g[r>>4&63]+g[r<<2&63]+"=")),e.join("")}d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63;var i={},Ga=function(t,r,o,a,$){var e,p,h=8*$-a-1,M=(1<<h)-1,w=M>>1,f=-7,i=o?$-1:0,j=o?-1:1,s=t[r+i];for(i+=j,e=s&(1<<-f)-1,s>>=-f,f+=h;f>0;e=256*e+t[r+i],i+=j,f-=8);for(p=e&(1<<-f)-1,e>>=-f,f+=a;f>0;p=256*p+t[r+i],i+=j,f-=8);if(0===e)e=1-w;else{if(e===M)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,a),e-=w}return(s?-1:1)*p*Math.pow(2,e-a)};i.read=Ga;var Ja=function(t,r,o,a,$,e){var p,h,M,w=8*e-$-1,f=(1<<w)-1,i=f>>1,j=23===$?Math.pow(2,-24)-Math.pow(2,-77):0,s=a?0:e-1,x=a?1:-1,D=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(h=isNaN(r)?1:0,p=f):(p=Math.floor(Math.log(r)/Math.LN2),r*(M=Math.pow(2,-p))<1&&(p--,M*=2),(r+=p+i>=1?j/M:j*Math.pow(2,1-i))*M>=2&&(p++,M/=2),p+i>=f?(h=0,p=f):p+i>=1?(h=(r*M-1)*Math.pow(2,$),p+=i):(h=r*Math.pow(2,i-1)*Math.pow(2,$),p=0));$>=8;t[o+s]=255&h,s+=x,h/=256,$-=8);for(p=p<<$|h,w+=$;w>0;t[o+s]=255&p,s+=x,p/=256,w-=8);t[o+s-x]|=128*D};i.write=Ja;var z={},S={}.toString;z=Array.isArray||function(r){return"[object Array]"==S.call(r)};var k={},$=b;k.Buffer=$;var _=Fa;k.SlowBuffer=_;var fa=50;k.INSPECT_MAX_BYTES=fa,b.TYPED_ARRAY_SUPPORT=void 0!==Q.TYPED_ARRAY_SUPPORT?Q.TYPED_ARRAY_SUPPORT:ha();var ga=n();function ha(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(r){return!1}}function n(){return b.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h(e,r){if(n()<r)throw new RangeError("Invalid typed array length");return b.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(r)).__proto__=b.prototype:(null===e&&(e=new b(r)),e.length=r),e}function b(e,r,t){if(!(b.TYPED_ARRAY_SUPPORT||this instanceof b))return new b(e,r,t);if("number"==typeof e){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return x(this,e)}return A(this,e,r,t)}function A(e,r,t,$){if("number"==typeof r)throw new TypeError("\"value\" argument must not be a number");return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?Ca(e,r,t,$):"string"==typeof r?xa(e,r,t):Da(e,r)}function F(e){if("number"!=typeof e)throw new TypeError("\"size\" argument must be a number");if(e<0)throw new RangeError("\"size\" argument must not be negative")}function ta(e,r,t,$){return F(r),r<=0?h(e,r):void 0!==t?"string"==typeof $?h(e,r).fill(t,$):h(e,r).fill(t):h(e,r)}function x(e,r){if(F(r),e=h(e,r<0?0:0|y(r)),!b.TYPED_ARRAY_SUPPORT)for(var t=0;t<r;++t)e[t]=0;return e}function xa(e,r,t){if("string"==typeof t&&""!==t||(t="utf8"),!b.isEncoding(t))throw new TypeError("\"encoding\" must be a valid string encoding");var $=0|B(r,t),n=(e=h(e,$)).write(r,t);return n!==$&&(e=e.slice(0,n)),e}function u(e,r){var t=r.length<0?0:0|y(r.length);e=h(e,t);for(var $=0;$<t;$+=1)e[$]=255&r[$];return e}function Ca(e,r,t,$){if(r.byteLength,t<0||r.byteLength<t)throw new RangeError("'offset' is out of bounds");if(r.byteLength<t+($||0))throw new RangeError("'length' is out of bounds");return r=void 0===t&&void 0===$?new Uint8Array(r):void 0===$?new Uint8Array(r,t):new Uint8Array(r,t,$),b.TYPED_ARRAY_SUPPORT?(e=r).__proto__=b.prototype:e=u(e,r),e}function Da(e,r){if(b.isBuffer(r)){var t=0|y(r.length);return 0===(e=h(e,t)).length?e:(r.copy(e,0,0,t),e)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||va(r.length)?h(e,0):u(e,r);if("Buffer"===r.type&&z(r.data))return u(e,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function Fa(e){return+e!=e&&(e=0),b.alloc(+e)}function B(e,r){if(b.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var t=e.length;if(0===t)return 0;for(var $=!1;;)switch(r){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return l(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return G(e).length;default:if($)return l(e).length;r=(""+r).toLowerCase(),$=!0;}}function Ha(e,r,t){var $=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===t||t>this.length)&&(t=this.length),t<=0)return"";if((t>>>=0)<=(r>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return da(this,r,t);case"utf8":case"utf-8":return M(this,r,t);case"ascii":return ba(this,r,t);case"latin1":case"binary":return ca(this,r,t);case"base64":return Z(this,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ea(this,r,t);default:if($)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),$=!0;}}function j(e,r,t){var $=e[r];e[r]=e[t],e[t]=$}function H(e,r,t,$,n){if(0===e.length)return-1;if("string"==typeof t?($=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=n?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(n)return-1;t=e.length-1}else if(t<0){if(!n)return-1;t=0}if("string"==typeof r&&(r=b.from(r,$)),b.isBuffer(r))return 0===r.length?-1:I(e,r,t,$,n);if("number"==typeof r)return r&=255,b.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,r,t):Uint8Array.prototype.lastIndexOf.call(e,r,t):I(e,[r],t,$,n);throw new TypeError("val must be string, number or Buffer")}function I(e,r,t,$,n){var f,a=1,i=e.length,o=r.length;if(void 0!==$&&("ucs2"===($=String($).toLowerCase())||"ucs-2"===$||"utf16le"===$||"utf-16le"===$)){if(e.length<2||r.length<2)return-1;a=2,i/=2,o/=2,t/=2}function u(e,r){return 1===a?e[r]:e.readUInt16BE(r*a)}if(n){var s=-1;for(f=t;f<i;f++)if(u(e,f)===u(r,-1===s?0:f-s)){if(-1===s&&(s=f),f-s+1===o)return s*a}else-1!==s&&(f-=f-s),s=-1}else for(t+o>i&&(t=i-o),f=t;f>=0;f--){for(var h=!0,v=0;v<o;v++)if(u(e,f+v)!==u(r,v)){h=!1;break}if(h)return f}return-1}function T(e,r,t,$){t=Number(t)||0;var n=e.length-t;$?($=Number($))>n&&($=n):$=n;var f=r.length;if(f%2!=0)throw new TypeError("Invalid hex string");$>f/2&&($=f/2);for(var a=0;a<$;++a){var i=parseInt(r.substr(2*a,2),16);if(isNaN(i))return a;e[t+a]=i}return a}function U(e,r,t,$){return s(l(r,e.length-t),e,t,$)}function P(e,r,t,$){return s(ra(r),e,t,$)}function W(e,r,t,$){return P(e,r,t,$)}function X(e,r,t,$){return s(G(r),e,t,$)}function Y(e,r,t,$){return s(sa(r,e.length-t),e,t,$)}function Z(e,r,t){return 0===r&&t===e.length?K(e):K(e.slice(r,t))}function M(e,r,t){t=Math.min(e.length,t);for(var $=[],n=r;n<t;){var f,a,i,o,u=e[n],s=null,h=u>239?4:u>223?3:u>191?2:1;if(n+h<=t)switch(h){case 1:u<128&&(s=u);break;case 2:128==(192&(f=e[n+1]))&&(o=(31&u)<<6|63&f)>127&&(s=o);break;case 3:f=e[n+1],a=e[n+2],128==(192&f)&&128==(192&a)&&(o=(15&u)<<12|(63&f)<<6|63&a)>2047&&(o<55296||o>57343)&&(s=o);break;case 4:f=e[n+1],a=e[n+2],i=e[n+3],128==(192&f)&&128==(192&a)&&128==(192&i)&&(o=(15&u)<<18|(63&f)<<12|(63&a)<<6|63&i)>65535&&o<1114112&&(s=o);}null===s?(s=65533,h=1):s>65535&&(s-=65536,$.push(s>>>10&1023|55296),s=56320|1023&s),$.push(s),n+=h}return aa($)}k.kMaxLength=ga,b.poolSize=8192,b._augment=function(e){return e.__proto__=b.prototype,e},b.from=function(e,r,t){return A(null,e,r,t)},b.TYPED_ARRAY_SUPPORT&&(b.prototype.__proto__=Uint8Array.prototype,b.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&b[Symbol.species]===b&&Object.defineProperty(b,Symbol.species,{value:null,configurable:!0})),b.alloc=function(e,r,t){return ta(null,e,r,t)},b.allocUnsafe=function(e){return x(null,e)},b.allocUnsafeSlow=function(e){return x(null,e)},b.isBuffer=function(e){return!(null==e||!e._isBuffer)},b.compare=function(e,r){if(!b.isBuffer(e)||!b.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(e===r)return 0;for(var t=e.length,$=r.length,n=0,f=Math.min(t,$);n<f;++n)if(e[n]!==r[n]){t=e[n],$=r[n];break}return t<$?-1:$<t?1:0},b.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1;}},b.concat=function(e,r){if(!z(e))throw new TypeError("\"list\" argument must be an Array of Buffers");if(0===e.length)return b.alloc(0);var t;if(void 0===r)for(r=0,t=0;t<e.length;++t)r+=e[t].length;var $=b.allocUnsafe(r),n=0;for(t=0;t<e.length;++t){var f=e[t];if(!b.isBuffer(f))throw new TypeError("\"list\" argument must be an Array of Buffers");f.copy($,n),n+=f.length}return $},b.byteLength=B,b.prototype._isBuffer=!0,b.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)j(this,r,r+1);return this},b.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)j(this,r,r+3),j(this,r+1,r+2);return this},b.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)j(this,r,r+7),j(this,r+1,r+6),j(this,r+2,r+5),j(this,r+3,r+4);return this},b.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?M(this,0,e):Ha.apply(this,arguments)},b.prototype.equals=function(e){if(!b.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===b.compare(this,e)},b.prototype.inspect=function(){var e="",r=k.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},b.prototype.compare=function(e,r,t,$,n){if(!b.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===t&&(t=e?e.length:0),void 0===$&&($=0),void 0===n&&(n=this.length),r<0||t>e.length||$<0||n>this.length)throw new RangeError("out of range index");if($>=n&&r>=t)return 0;if($>=n)return-1;if(r>=t)return 1;if(this===e)return 0;for(var f=(n>>>=0)-($>>>=0),a=(t>>>=0)-(r>>>=0),i=Math.min(f,a),o=this.slice($,n),u=e.slice(r,t),s=0;s<i;++s)if(o[s]!==u[s]){f=o[s],a=u[s];break}return f<a?-1:a<f?1:0},b.prototype.includes=function(e,r,t){return-1!==this.indexOf(e,r,t)},b.prototype.indexOf=function(e,r,t){return H(this,e,r,t,!0)},b.prototype.lastIndexOf=function(e,r,t){return H(this,e,r,t,!1)},b.prototype.write=function(e,r,t,$){if(void 0===r)$="utf8",t=this.length,r=0;else if(void 0===t&&"string"==typeof r)$=r,t=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(t)?(t|=0,void 0===$&&($="utf8")):($=t,t=void 0)}var n=this.length-r;if((void 0===t||t>n)&&(t=n),e.length>0&&(t<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");for(var f=!1;;)switch($){case"hex":return T(this,e,r,t);case"utf8":case"utf-8":return U(this,e,r,t);case"ascii":return P(this,e,r,t);case"latin1":case"binary":return W(this,e,r,t);case"base64":return X(this,e,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,e,r,t);default:if(f)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),f=!0;}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function aa(e){var r=e.length;if(r<=N)return String.fromCharCode.apply(String,e);for(var t="",$=0;$<r;)t+=String.fromCharCode.apply(String,e.slice($,$+=N));return t}function ba(e,r,t){var $="";t=Math.min(e.length,t);for(var n=r;n<t;++n)$+=String.fromCharCode(127&e[n]);return $}function ca(e,r,t){var $="";t=Math.min(e.length,t);for(var n=r;n<t;++n)$+=String.fromCharCode(e[n]);return $}function da(e,r,t){var $=e.length;(!r||r<0)&&(r=0),(!t||t<0||t>$)&&(t=$);for(var n="",f=r;f<t;++f)n+=pa(e[f]);return n}function ea(e,r,t){for(var $=e.slice(r,t),n="",f=0;f<$.length;f+=2)n+=String.fromCharCode($[f]+256*$[f+1]);return n}function a(e,r,t){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+r>t)throw new RangeError("Trying to access beyond buffer length")}function c(e,r,t,$,n,f){if(!b.isBuffer(e))throw new TypeError("\"buffer\" argument must be a Buffer instance");if(r>n||r<f)throw new RangeError("\"value\" argument is out of bounds");if(t+$>e.length)throw new RangeError("Index out of range")}function o(e,r,t,$){r<0&&(r=65535+r+1);for(var n=0,f=Math.min(e.length-t,2);n<f;++n)e[t+n]=(r&255<<8*($?n:1-n))>>>8*($?n:1-n)}function q(e,r,t,$){r<0&&(r=4294967295+r+1);for(var n=0,f=Math.min(e.length-t,4);n<f;++n)e[t+n]=r>>>8*($?n:3-n)&255}function C(e,r,t,$,n,f){if(t+$>e.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function D(e,r,t,$,n){return n||C(e,r,t,4,3.4028234663852886e38,-3.4028234663852886e38),i.write(e,r,t,$,23,4),t+4}function E(e,r,t,$,n){return n||C(e,r,t,8,1.7976931348623157e308,-1.7976931348623157e308),i.write(e,r,t,$,52,8),t+8}b.prototype.slice=function(e,r){var t,$=this.length;if((e=~~e)<0?(e+=$)<0&&(e=0):e>$&&(e=$),(r=void 0===r?$:~~r)<0?(r+=$)<0&&(r=0):r>$&&(r=$),r<e&&(r=e),b.TYPED_ARRAY_SUPPORT)(t=this.subarray(e,r)).__proto__=b.prototype;else{var n=r-e;t=new b(n,void 0);for(var f=0;f<n;++f)t[f]=this[f+e]}return t},b.prototype.readUIntLE=function(e,r,t){e|=0,r|=0,t||a(e,r,this.length);for(var $=this[e],n=1,f=0;++f<r&&(n*=256);)$+=this[e+f]*n;return $},b.prototype.readUIntBE=function(e,r,t){e|=0,r|=0,t||a(e,r,this.length);for(var $=this[e+--r],n=1;r>0&&(n*=256);)$+=this[e+--r]*n;return $},b.prototype.readUInt8=function(e,r){return r||a(e,1,this.length),this[e]},b.prototype.readUInt16LE=function(e,r){return r||a(e,2,this.length),this[e]|this[e+1]<<8},b.prototype.readUInt16BE=function(e,r){return r||a(e,2,this.length),this[e]<<8|this[e+1]},b.prototype.readUInt32LE=function(e,r){return r||a(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},b.prototype.readUInt32BE=function(e,r){return r||a(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},b.prototype.readIntLE=function(e,r,t){e|=0,r|=0,t||a(e,r,this.length);for(var $=this[e],n=1,f=0;++f<r&&(n*=256);)$+=this[e+f]*n;return $>=(n*=128)&&($-=Math.pow(2,8*r)),$},b.prototype.readIntBE=function(e,r,t){e|=0,r|=0,t||a(e,r,this.length);for(var $=r,n=1,f=this[e+--$];$>0&&(n*=256);)f+=this[e+--$]*n;return f>=(n*=128)&&(f-=Math.pow(2,8*r)),f},b.prototype.readInt8=function(e,r){return r||a(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},b.prototype.readInt16LE=function(e,r){r||a(e,2,this.length);var t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},b.prototype.readInt16BE=function(e,r){r||a(e,2,this.length);var t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},b.prototype.readInt32LE=function(e,r){return r||a(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},b.prototype.readInt32BE=function(e,r){return r||a(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},b.prototype.readFloatLE=function(e,r){return r||a(e,4,this.length),i.read(this,e,!0,23,4)},b.prototype.readFloatBE=function(e,r){return r||a(e,4,this.length),i.read(this,e,!1,23,4)},b.prototype.readDoubleLE=function(e,r){return r||a(e,8,this.length),i.read(this,e,!0,52,8)},b.prototype.readDoubleBE=function(e,r){return r||a(e,8,this.length),i.read(this,e,!1,52,8)},b.prototype.writeUIntLE=function(e,r,t,$){(e=+e,r|=0,t|=0,$)||c(this,e,r,t,Math.pow(2,8*t)-1,0);var n=1,f=0;for(this[r]=255&e;++f<t&&(n*=256);)this[r+f]=e/n&255;return r+t},b.prototype.writeUIntBE=function(e,r,t,$){(e=+e,r|=0,t|=0,$)||c(this,e,r,t,Math.pow(2,8*t)-1,0);var n=t-1,f=1;for(this[r+n]=255&e;--n>=0&&(f*=256);)this[r+n]=e/f&255;return r+t},b.prototype.writeUInt8=function(e,r,t){return e=+e,r|=0,t||c(this,e,r,1,255,0),b.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[r]=255&e,r+1},b.prototype.writeUInt16LE=function(e,r,t){return e=+e,r|=0,t||c(this,e,r,2,65535,0),b.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8):o(this,e,r,!0),r+2},b.prototype.writeUInt16BE=function(e,r,t){return e=+e,r|=0,t||c(this,e,r,2,65535,0),b.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=255&e):o(this,e,r,!1),r+2},b.prototype.writeUInt32LE=function(e,r,t){return e=+e,r|=0,t||c(this,e,r,4,4294967295,0),b.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=255&e):q(this,e,r,!0),r+4},b.prototype.writeUInt32BE=function(e,r,t){return e=+e,r|=0,t||c(this,e,r,4,4294967295,0),b.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e):q(this,e,r,!1),r+4},b.prototype.writeIntLE=function(e,r,t,$){if(e=+e,r|=0,!$){var n=Math.pow(2,8*t-1);c(this,e,r,t,n-1,-n)}var f=0,a=1,i=0;for(this[r]=255&e;++f<t&&(a*=256);)e<0&&0===i&&0!==this[r+f-1]&&(i=1),this[r+f]=(e/a>>0)-i&255;return r+t},b.prototype.writeIntBE=function(e,r,t,$){if(e=+e,r|=0,!$){var n=Math.pow(2,8*t-1);c(this,e,r,t,n-1,-n)}var f=t-1,a=1,i=0;for(this[r+f]=255&e;--f>=0&&(a*=256);)e<0&&0===i&&0!==this[r+f+1]&&(i=1),this[r+f]=(e/a>>0)-i&255;return r+t},b.prototype.writeInt8=function(e,r,t){return e=+e,r|=0,t||c(this,e,r,1,127,-128),b.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[r]=255&e,r+1},b.prototype.writeInt16LE=function(e,r,t){return e=+e,r|=0,t||c(this,e,r,2,32767,-32768),b.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8):o(this,e,r,!0),r+2},b.prototype.writeInt16BE=function(e,r,t){return e=+e,r|=0,t||c(this,e,r,2,32767,-32768),b.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=255&e):o(this,e,r,!1),r+2},b.prototype.writeInt32LE=function(e,r,t){return e=+e,r|=0,t||c(this,e,r,4,2147483647,-2147483648),b.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):q(this,e,r,!0),r+4},b.prototype.writeInt32BE=function(e,r,t){return e=+e,r|=0,t||c(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),b.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e):q(this,e,r,!1),r+4},b.prototype.writeFloatLE=function(e,r,t){return D(this,e,r,!0,t)},b.prototype.writeFloatBE=function(e,r,t){return D(this,e,r,!1,t)},b.prototype.writeDoubleLE=function(e,r,t){return E(this,e,r,!0,t)},b.prototype.writeDoubleBE=function(e,r,t){return E(this,e,r,!1,t)},b.prototype.copy=function(e,r,t,$){if(t||(t=0),$||0===$||($=this.length),r>=e.length&&(r=e.length),r||(r=0),$>0&&$<t&&($=t),$===t)return 0;if(0===e.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("sourceStart out of bounds");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),e.length-r<$-t&&($=e.length-r+t);var n,f=$-t;if(this===e&&t<r&&r<$)for(n=f-1;n>=0;--n)e[n+r]=this[n+t];else if(f<1e3||!b.TYPED_ARRAY_SUPPORT)for(n=0;n<f;++n)e[n+r]=this[n+t];else Uint8Array.prototype.set.call(e,this.subarray(t,t+f),r);return f},b.prototype.fill=function(e,r,t,$){if("string"==typeof e){if("string"==typeof r?($=r,r=0,t=this.length):"string"==typeof t&&($=t,t=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}if(void 0!==$&&"string"!=typeof $)throw new TypeError("encoding must be a string");if("string"==typeof $&&!b.isEncoding($))throw new TypeError("Unknown encoding: "+$)}else"number"==typeof e&&(e&=255);if(r<0||this.length<r||this.length<t)throw new RangeError("Out of range index");if(t<=r)return this;var f;if(r>>>=0,t=void 0===t?this.length:t>>>0,e||(e=0),"number"==typeof e)for(f=r;f<t;++f)this[f]=e;else{var a=b.isBuffer(e)?e:l(new b(e,$).toString()),i=a.length;for(f=0;f<t-r;++f)this[f+r]=a[f%i]}return this};var ma=/[^+\/0-9A-Za-z-_]/g;function na(e){if((e=oa(e).replace(ma,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function oa(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function pa(e){return e<16?"0"+e.toString(16):e.toString(16)}function l(e,r){var t;r=r||1/0;for(var $=e.length,n=null,f=[],a=0;a<$;++a){if((t=e.charCodeAt(a))>55295&&t<57344){if(!n){if(t>56319){(r-=3)>-1&&f.push(239,191,189);continue}if(a+1===$){(r-=3)>-1&&f.push(239,191,189);continue}n=t;continue}if(t<56320){(r-=3)>-1&&f.push(239,191,189),n=t;continue}t=65536+(n-55296<<10|t-56320)}else n&&(r-=3)>-1&&f.push(239,191,189);if(n=null,t<128){if((r-=1)<0)break;f.push(t)}else if(t<2048){if((r-=2)<0)break;f.push(t>>6|192,63&t|128)}else if(t<65536){if((r-=3)<0)break;f.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;f.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return f}function ra(e){for(var r=[],t=0;t<e.length;++t)r.push(255&e.charCodeAt(t));return r}function sa(e,r){for(var t,$,n,f=[],a=0;a<e.length&&!((r-=2)<0);++a)$=(t=e.charCodeAt(a))>>8,n=t%256,f.push(n),f.push($);return f}function G(e){return R(na(e))}function s(e,r,t,$){for(var n=0;n<$&&!(n+t>=r.length||n>=e.length);++n)r[n+t]=e[n];return n}function va(e){return e!=e}var wa={},r=k.Buffer;function J(t){return Ba(t)||Aa(t)||za()}function za(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Aa(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function Ba(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function w(t,e,n){return e&&L(t.prototype,e),n&&L(t,n),t}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){O(t,e,n[e])})}return t}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(){if(!document.getElementById("gameStylesheet")){var t=document.createElement("style");t.type="text/css",t.id="gameStylesheet",t.innerHTML="* {\r\n  padding: 0;\r\n  margin: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  background-color: #fbe9e7;\r\n}\r\n\r\n.game-wrapper {\r\n  width: 100%;\r\n  max-width: 480px;\r\n  margin: auto;\r\n  padding: 0 6px 6px;\r\n}\r\n\r\n.game-wrapper canvas.game-ui {\r\n  display: block;\r\n  width: 100%;\r\n  cursor: pointer;\r\n  -webkit-tap-highlight-color: transparent;\r\n}\r\n\r\n.game-wrapper .game-dashboard {\r\n  height: 100px;\r\n  padding: 8px 0;\r\n}\r\n\r\n.game-wrapper .game-dashboard .innerbox {\r\n  height: 100%;\r\n  padding: 12px;\r\n  font-size: 13px;\r\n  color: #607d8b;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.game-wrapper canvas.game-ui,\r\n.game-wrapper .game-dashboard .innerbox {\r\n  border-radius: 4px;\r\n  background-color: #cfd8dc;\r\n}",document.head.appendChild(t)}})();var m={icons:{},isIconsLoaded:!1,templates:{dashboard:"<div class=\"game-dashboard\">\r\n  <div class=\"innerbox\">\r\n    <p><b>\u8FD9\u91CC\u662F\u4EEA\u8868\u76D8\uFF1B</b>\u7528\u6765\u5C55\u793A\u6E38\u620F\u72B6\u6001 (\u5982\uFF1A\u5DF2\u6807\u8BB0\u65B9\u5757\u8BA1\u6570\uFF0C\u5DF2\u70B9\u5F00\u65B9\u5757\u8BA1\u6570\uFF0C\u96F7\u7684\u6570\u91CF)\u4EE5\u53CA\u63D0\u4F9B\u4E00\u4E2A\u6309\u94AE\u5BF9\u6E38\u620F\u8FDB\u884C\u914D\u7F6E</p>\r\n  </div>\r\n</div>"}};m.base64Strs=function(){var t={blockEnd:r("iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN0QAADdEBwivf4wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGrSURBVFiF7ZlPTsJAFId/700TrYUWXZhSVAw7PQSykMAVPAtrD+ApuIJEF8oBXLo0Ev/EmMifItRIOs+FyILEuGhCx6RfMvsv75vZvCERAQDU6k1fa30KoMpEZRAIq0QgWqQHoMvMrauL8xcAIBFBrd5siNbt4aA/Go8G4UcURSuVm7Nu23be23QLm1seMZ9cXZx36Oi44YvWtw/3d0/RdDJJQ2wZe8NxdvcrJWI+VHv7lbNh/y0Y9t8GaYv9MJt9zpRlWWvrdoUBVMPhIExbapm5U9VionI0ndykLbRMNJ1ETHRgYf5QDIU4bYO/sADA4AmaL5glToolMFdQkCVOjvGCWeKkGC+YJU5KNsGkGC+YJU6K8YJZ4qQYL5glTorxgv8isQDmTZGIAEAsrePehpOz38dhKlvV33ByeVvruMcAdbf9opu20DLfTtRlpVSrGJQ81ys4IgITjusVnGJQ8pRSLRIRHB03GqJ1+/npcfT68hy+j8fRqu8kESGXz9vbfuAGpR2PmE+uLzudxfKyVm/6cRyfQqTKSpWBFX9DAKLjuAeirlJq8Q3xBZXrMZo1QiYvAAAAAElFTkSuQmCC","base64"),blockFront:r("iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN0QAADdEBwivf4wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHBSURBVFiF7Zk/ThtREId/894j+5fdRXaAiMJNFCkcwiEIYjgCZ3Hts3AE/kkB+QApXURpXERJHFuyF6/XJtoZKiynSLWS/SLtd4JP32iaGRIRAMDR6dm+1roDoMnMDQCE9SJKqT6AblEU7Ye7658AQCKCj5/OW0R0+Wbv9WS3XksD38+J1usnIshmM28wHEU/fv2OReTi/vbqhj6ctPaVUr3Dd2+/R9thtlarf5A+ToPe128HzHxotFKd3XptEgZ+xsybdgMAhIGf7dVrk8Fw1DEAmjtJnBZFsWmvv9hJ4nQwHDUNizRc1/liS70XXNfJWeS9gQixZfWWiJARALaN9wUBYADAtvGuYgB7CwJVwfJUBctSFSzL/yFYjbgEVcGyVAXLQbYX1JYX1JYLkrZ8STQsX5KloK0FAcsLAlXB8lQFy2IAiMWCYoS5r82W9+dpkW/aZpWtV44nzH0DoOv6wfE8n1kluO0HEYDPhpRqh1Hcy6bpdJHnVpyAHc8LwiiOiahNIoKj07OWCF+m4/Fkmo7TxXy+kZqO63phlERRksRE6uLh7vqGVt8QzNwB0FSKGsCaz/wQYZY+gK5SavmGeAaV/fpQD4SQKgAAAABJRU5ErkJggg==","base64"),bomb:r("iVBORw0KGgoAAAANSUhEUgAAABUAAAAeCAYAAADD0FVVAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAFhgAABYYBG6Yz4AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGUSURBVEiJrZW7SgNREIa/PYhBsQmCiIWFRWzFWFqI4CvoEyio2AqWFla+QN7Axjew8NKK9oqmsjIGjBESjeS3yByve8lu9octlvnnY3Z2zpxAEhk1CuwCp8D5z4DLCFwHHoDtUIaktM+BpHdJTUlTYZ60wD1JHfW0FuVLAyxKahvwOM6bpqcbQBd4AjZjnSkqrVqVq0neIGGkalYdwATwDjwDI8ACcBuWNJTwyR/A5I/3YYPXiBnHqEAB2AfGI+JFYMd8/xXSk7L1z//pKL2Zr5w0UoeS6gmwv6pbXih0S71TkkVNy/8FnZZUywj0qhnnC3opqTsgtGscHLAIzABBzGj1o8A4ix5aHBDoVfTQZQav0isAlh1QygnoVXJEnYrsKjigkTO04YDrnKHXDjgBOjkBO8CJAy6Al5ygL8CFA+6BI6A9ILBtnHt/TIf1fV1kVdU4v7bUvNKvPa+65Yfu0zlJd5JafcJa5p9TzJJGUkFSRdKjets9TG8Wr5i/79t0FlgCVoAyMAa8Alf0xvAMuAlL/AQOkeuIsYF05QAAAABJRU5ErkJggg==","base64"),flag:r("iVBORw0KGgoAAAANSUhEUgAAABoAAAAeCAYAAAAy2w7YAAAAoklEQVRIie3WwQ2AIAwFUGpczMmMkzna9wIKpECR2oOhJwPKowgNBMBJg4iSlwGQ9Nv1LeIbn7YGukghwUzguMn4EGfUBYaIstTLqIR6+FsoAm0gZ5WRGQSQ/q7LgPD4DcQcXv2lK1QIvYwaJWgcEhbWsaXrqN4/O0cTmtCEVKJZ646tfIWK+/azXo6Iu6nWBpcEhybQKFAD73+kjeRjmm2GCx6wOIUIqsGWAAAAAElFTkSuQmCC","base64")},e={};return Object.keys(t).forEach(function(n){return e[n]="data:image/png;base64,".concat(t[n].toString("base64"))}),e}(),m.loadSingleIcon=function(t){var e=this;return new Promise(function(n){var o=new Image;o.onload=function(){o.onload=null,n(O({},t,o))},o.src=e.base64Strs[t]})},m.loadIcons=function(){var t=this;return this.isIconsLoaded?Promise.resolve():Promise.all(Object.keys(this.base64Strs).map(function(e){return t.loadSingleIcon(e)})).then(function(e){t.isIconsLoaded=!0,e.forEach(function(e){return t.icons=p({},t.icons,e)})})};var Ia=function(){function t(e){var n=e.row,o=e.col,i=e.num,r=void 0===i?0:i;v(this,t),this.row=n,this.col=o,this.num=r,this.isFlag=!1,this.isOpened=!1}return w(t,[{key:"drawText",value:function(t){var e=t.context,n=t.size,o=t.space,i=n/2+"px",r={1:"#ff0",2:"#0f0"}[this.num]||"#f00",a=e.measureText(this.num).width,s=this.col*n+(n-o-a)/2,c=this.row*n+(n-o-a)/2;e.save(),e.font="bold ".concat(i," serif"),e.textBaseline="hanging",e.fillStyle=r,e.fillText(this.num,s,c),e.restore()}},{key:"drawIcon",value:function(t){var e,n,o=t.context,i=t.size,r=t.space,a=t.icon;a.width>a.height?n=(e=.5*i)*(a.height/a.width):e=(n=.5*i)*(a.width/a.height);var s=this.col*i+r+(i-r-e)/2,c=this.row*i+r+(i-r-n)/2;o.drawImage(a,s,c,e,n)}},{key:"drawBG",value:function(t){var e=t.context,n=t.size,o=t.space,i=t.icon;e.drawImage(i,0,0,i.width,i.height,this.col*n+o,this.row*n+o,n-o,n-o)}},{key:"draw",value:function(t){var e=t.context,n=t.size,o=t.space,i={context:e,size:n,space:void 0===o?6:o},r=m.icons,a=r.blockEnd,s=r.bomb,c=r.blockFront,l=r.flag;this.isOpened?(this.drawBG(p({},i,{icon:a})),this.num>0&&this.num<9?this.drawText(i):9===this.num&&this.drawIcon(p({},i,{icon:s}))):(this.drawBG(p({},i,{icon:c})),this.isFlag&&this.drawIcon(p({},i,{icon:l})))}}]),t}(),f={createWrapper:function(t){t=t||document.body;var e=document.createElement("div");return e.className="game-wrapper",t.appendChild(e),e},createCanvas:function(t){var e=document.createElement("canvas");return e.className="game-ui",t.appendChild(e),e},getPixRatio:function(t){var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||1;return(window.devicePixelRatio||1)/e},genBlocks:function(t,e){for(var n=[],o=0;o<t;o++)for(var i=0;i<e;i++)n.push(new Ia({row:o,col:i}));return n},isFunc:function(t){return"function"==typeof t}},Ka=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(this,t),this.callbacks=n,this.canvas=f.createCanvas(e),this.context=this.canvas.getContext("2d"),this.pixRatio=f.getPixRatio(this.context),this.addListener()}return w(t,[{key:"initUI",value:function(t){var e=t.rows,n=t.cols,o=t.mineCount,i=t.blockSpace,r=void 0===i?6:i;this.rows=e,this.cols=n,this.mineCount=o,this.blockSpace=r,this.blockSize=0,this.isEnd=!1,this.isFirstClick=!0,this.updateSize(),this.blocks=f.genBlocks(this.rows,this.cols),this.drawBlocks()}},{key:"updateSize",value:function(){var t,e=this.canvas.offsetWidth,n=this.pixRatio*e,o=(n-this.blockSpace)/this.cols,i=this.pixRatio*(window.innerHeight-100);this.rows?(this.rows*o>i&&(this.rows=Math.floor(i/o)),t=this.rows*o+this.blockSpace):(this.rows=this.cols,t=n),this.blockSize=o,this.canvas.width=n,this.canvas.height=t}},{key:"drawBlocks",value:function(){var t=this,e=this.canvas,n=e.width,o=e.height;this.context.clearRect(0,0,+n,+o),this.blocks.forEach(function(e){e.draw({context:t.context,size:t.blockSize,space:t.blockSpace})})}},{key:"getCurBlock",value:function(t){for(var e=(t.offsetX||t.pageX)*this.pixRatio,n=(t.offsetY||t.pageY)*this.pixRatio,o=Math.floor(e/this.blockSize),i=Math.floor(n/this.blockSize),r=0,a=this.blocks.length;r<a;r++){var s=this.blocks[r];if(s.row===i&&s.col===o)return s}}},{key:"addListener",value:function(){this.canvas.addEventListener("click",this.onClick.bind(this),!1),this.canvas.addEventListener("contextmenu",this.onContextmenu.bind(this),!1)}},{key:"onClick",value:function(t){if(!this.isEnd){var e=this.getCurBlock(t);if(e&&!e.isOpened&&!e.isFlag){var n=this.callbacks,o=n.onWinning,i=n.onOver,r=n.onUpdate;if(this.isFirstClick&&(this.isFirstClick=!1,this.updateMineMap(e)),e.isOpened=!0,9===e.num)return this.bombAndOver(),f.isFunc(i)&&i();e.num||this.openZeroBlocks(e),this.drawBlocks(),f.isFunc(r)&&r(),this.checkDone()&&f.isFunc(o)&&o()}}}},{key:"onContextmenu",value:function(t){if(t.preventDefault(),!this.isEnd){var e=this.getCurBlock(t);e&&!e.isOpened&&(e.isFlag=!e.isFlag,this.drawBlocks(),f.isFunc(this.callbacks.onUpdate)&&this.callbacks.onUpdate())}}},{key:"updateMineMap",value:function(t){var e=this,n=J(Array(this.mineCount).fill(9)).concat(J(Array(this.blocks.length-this.mineCount).fill(0)));n.sort(function(){return Math.random()-.5});var o=this.blocks.indexOf(t);if(9===n[o])for(var i=0,r=n.length;i<r;i++)if(!n[i]){n[o]=0,n[i]=9;break}n.forEach(function(t,n){return e.blocks[n].num=t}),this.updateBlocksNum()}},{key:"getRoundBlocks",value:function(t){var e=this.blocks[t-this.cols-1],n=this.blocks[t-this.cols],o=this.blocks[t-this.cols+1],i=this.blocks[t+1],r=this.blocks[t+this.cols+1],a=this.blocks[t+this.cols],s=this.blocks[t+this.cols-1],c=this.blocks[t-1],l=[e,n,o,i,r,a,s,c];return t%this.cols==0?l=[n,o,i,r,a]:(t+1)%this.cols==0&&(l=[e,n,a,s,c]),l.filter(function(t){return t})}},{key:"getTRBLBlocks",value:function(t){var e=this.blocks[t-this.cols],n=this.blocks[t+1],o=this.blocks[t+this.cols],i=this.blocks[t-1],r=[e,n,o,i];return t%this.cols==0?r=[e,n,o]:(t+1)%this.cols==0&&(r=[e,o,i]),r.filter(function(t){return t})}},{key:"updateBlocksNum",value:function(){for(var t=0,e=this.blocks.length;t<e;t++){var n=this.blocks[t];9!==n.num&&(n.num=this.getRoundBlocks(t).filter(function(t){return 9===t.num}).length)}}},{key:"bombAndOver",value:function(){var t=this.context,e=this.blockSize,n=this.blockSpace;this.blocks.forEach(function(o){9===o.num&&(o.isOpened=!0,o.draw({context:t,size:e,space:n}))}),this.isEnd=!0}},{key:"openZeroBlocks",value:function(t){for(var e=[],n=[t];n.length;){var o=n.pop();-1===e.indexOf(o)&&e.push(o);for(var i=this.blocks.indexOf(o),r=this.getTRBLBlocks(i),a=0,s=r.length;a<s;a++){var c=r[a];c.isFlag||-1!==e.indexOf(c)||(c.num?c.num<9&&e.push(c):n.push(c))}}e.forEach(function(t){return t.isOpened=!0})}},{key:"checkDone",value:function(){for(var t=0,e=this.blocks.length;t<e;t++){var n=this.blocks[t];if(9!==n.num&&!n.isOpened)return!1}return this.isEnd=!0,!0}},{key:"getState",value:function(){for(var t=0,e=0,n=0,o=this.blocks.length;n<o;n++){var i=this.blocks[n],r=i.isFlag,a=i.isOpened;r?t+=1:a&&(e+=1)}return{flags:t,opens:e}}}]),t}(),La=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(this,t),this.callbacks=n,this.container=f.createWrapper(e),this.container.innerHTML=m.templates.dashboard,this.game=new Ka(this.container,{onWinning:this.onWinning.bind(this),onOver:this.onOver.bind(this),onUpdate:this.onUpdate.bind(this)})}return w(t,[{key:"start",value:function(t){var e=this,n=t.rows,o=t.cols,i=t.mineCount,r=t.blockSpace;this.state={flags:0,opens:0},m.loadIcons().then(function(){e.game.initUI({rows:n,cols:o,mineCount:i,blockSpace:r})})}},{key:"onWinning",value:function(){f.isFunc(this.callbacks.onWinning)&&this.callbacks.onWinning()}},{key:"onOver",value:function(){f.isFunc(this.callbacks.onOver)&&this.callbacks.onOver()}},{key:"onUpdate",value:function(){this.state=this.game.getState(),f.isFunc(this.callbacks.onUpdate)&&this.callbacks.onUpdate(this.state)}}]),t}();wa=La;var Ma=V(wa);var Na=new Ma.d(null,{onWinning:function(){console.log("\u606D\u559C\u4F60\uFF01\u4F60\u80DC\u5229\u4E86\uFF01")},onOver:function(){console.log("\u4E0D\u597D\u610F\u601D\uFF0C\u4F60\u6302\u4E86\uFF01")},onUpdate:function(n){console.log(n)}});Na.start({cols:9,mineCount:10});})();